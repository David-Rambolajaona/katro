(function(e){function t(t){for(var o,i,r=t[0],l=t[1],a=t[2],h=0,p=[];h<r.length;h++)i=r[h],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);b&&b(t);while(p.length)p.shift()();return s.push.apply(s,a||[]),c()}function c(){for(var e,t=0;t<s.length;t++){for(var c=s[t],o=!0,r=1;r<c.length;r++){var l=c[r];0!==n[l]&&(o=!1)}o&&(s.splice(t--,1),e=i(i.s=c[0]))}return e}var o={},n={app:0},s=[];function i(t){if(o[t])return o[t].exports;var c=o[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,i),c.l=!0,c.exports}i.m=e,i.c=o,i.d=function(e,t,c){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(i.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(c,o,function(t){return e[t]}.bind(null,o));return c},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/katro/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var a=0;a<r.length;a++)t(r[a]);var b=l;s.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"0e3e":function(e,t,c){"use strict";c("2544")},2544:function(e,t,c){},"3a32":function(e,t,c){"use strict";c("f770")},"56d7":function(e,t,c){"use strict";c.r(t);var o=c("7a23");const n={id:"theapp",class:"h-100"};function s(e,t,c,s,i,r){const l=Object(o["z"])("router-view");return Object(o["s"])(),Object(o["e"])("div",n,[(Object(o["s"])(),Object(o["d"])(l,{key:e.$route.fullPath}))])}var i={name:"App",components:{}},r=(c("3a32"),c("6b0d")),l=c.n(r);const a=l()(i,[["render",s]]);var b=a,h=c("6605");const p={class:"container"},u=Object(o["f"])("div",{class:"row"},[Object(o["f"])("div",{class:"col"},[Object(o["f"])("h4",{class:"text-center"},"Katro")])],-1),d={class:"row"},f={class:"col d-flex justify-content-center"},_={class:""},v=Object(o["g"])("Joueur contre joueur"),j=Object(o["g"])("Contre l'ordinateur"),O=Object(o["g"])("Contre joueur en ligne");function m(e,t,c,n,s,i){const r=Object(o["z"])("router-link");return Object(o["s"])(),Object(o["e"])("div",p,[u,Object(o["f"])("div",d,[Object(o["f"])("div",f,[Object(o["f"])("div",_,[Object(o["h"])(r,{to:"/game/local",class:"btn btn-info btn-block"},{default:Object(o["F"])(()=>[v]),_:1}),Object(o["h"])(r,{to:"/game/computer",class:"btn btn-info btn-block disabled"},{default:Object(o["F"])(()=>[j]),_:1}),Object(o["h"])(r,{to:"/game/online",class:"btn btn-info btn-block disabled"},{default:Object(o["F"])(()=>[O]),_:1})])])])])}var k={data(){return{}},methods:{}};const g=l()(k,[["render",m]]);var w=g,y=[{path:"/",name:"Home",component:w}],z=y;const x=e=>(Object(o["v"])("data-v-1f07689f"),e=e(),Object(o["t"])(),e),I={class:"container h-100"},P=x(()=>Object(o["f"])("div",{class:"row"},[Object(o["f"])("div",{class:"col"})],-1)),C={class:"board-container"},E={class:"row h-100"},S={class:"col h-100"};function M(e,t,c,n,s,i){const r=Object(o["z"])("Board");return Object(o["s"])(),Object(o["e"])("div",I,[P,Object(o["f"])("div",C,[Object(o["f"])("div",E,[Object(o["f"])("div",S,[Object(o["h"])(r)])])])])}const B={class:"board h-100",ref:"board"},T=["onClick"],F=["onClick"];function J(e,t,c,n,s,i){return Object(o["s"])(),Object(o["e"])("div",B,[(Object(o["s"])(),Object(o["e"])(o["a"],null,Object(o["y"])(2,e=>Object(o["f"])("div",{key:e,class:"h-25 row board-row d-flex align-items-center"},[(Object(o["s"])(),Object(o["e"])(o["a"],null,Object(o["y"])(4,t=>Object(o["f"])("div",{key:t,class:"p-1",style:Object(o["o"])({width:s.hole_size,height:s.hole_size})},[Object(o["f"])("div",{class:Object(o["n"])(["hole h-100 w-100",{can_hover_opp:s.can_hover_opp&&"opp"==s.turn,focused_hole:s.focused_hole_moving=="opp"+(4*(e-1)+t)}]),onClick:c=>i.click_hole("opp",4*(e-1)+t)},Object(o["C"])(s.pebbles["opp"][4*(e-1)+t]),11,T)],4)),64))])),64)),(Object(o["s"])(),Object(o["e"])(o["a"],null,Object(o["y"])(2,e=>Object(o["f"])("div",{key:e,class:"h-25 row board-row d-flex align-items-center"},[(Object(o["s"])(),Object(o["e"])(o["a"],null,Object(o["y"])(4,t=>Object(o["f"])("div",{key:t,class:"p-1",style:Object(o["o"])({width:s.hole_size,height:s.hole_size})},[Object(o["f"])("div",{class:Object(o["n"])(["hole h-100 w-100",{can_hover_me:s.can_hover_me&&"me"==s.turn,focused_hole:s.focused_hole_moving=="me"+(4*(e-1)+t)}]),onClick:c=>i.click_hole("me",4*(e-1)+t)},Object(o["C"])(s.pebbles["me"][4*(e-1)+t]),11,F)],4)),64))])),64))],512)}var L={data(){return{hole_size:"0px",pebbles:{opp:{},me:{}},turn:"me",can_hover_opp:!0,can_hover_me:!0,direction:"clock",can_I_click:!0,can_opp_click:!0,focused_hole_moving:null,timer:null,SPEED_TIMER:100}},methods:{update_hole_size(){let e=this.$refs.board.clientHeight,t=this.$refs.board.clientWidth,c=0;c=e<t?e/4:t/4,this.hole_size=c+"px"},move_pebbles(e,t){this.make_turn("none"),this.focused_hole_moving=e+t;var c=0,o=!0,n=!1;this.timer=setInterval(function(){if(!o&&c<=0&&1==this.pebbles[e][t])return clearInterval(this.timer),this.focused_hole_moving=null,this.make_turn("switch"),!1;if(c<=0&&this.pebbles[e][t]>1){var s=0,i="",r=null;if("me"==e&&t>=1&&t<=4?(i="opp",r=t+4,s=this.pebbles[i][r],s<=0&&(r=t,s=this.pebbles[i][r])):"opp"==e&&t>=5&&t<=8&&(i="me",r=t-4,s=this.pebbles[i][r],s<=0&&(r=t,s=this.pebbles[i][r])),!o&&!n&&s>0)return this.pebbles[e][t]+=s,this.pebbles[i][r]=0,n=!0,!1;c=this.pebbles[e][t],this.pebbles[e][t]=0}else o&&1==this.pebbles[e][t]&&(c=this.pebbles[e][t],this.pebbles[e][t]=0);o=!1,n=!1,"me"==e&&"clock"==this.direction||"opp"==e&&"c-clock"==this.direction?4==t?t=8:5==t?t=1:t>4?t-=1:t+=1:8==t?t=4:1==t?t=5:t>4?t+=1:t-=1,this.focused_hole_moving=e+t,this.pebbles[e][t]+=1,c-=1,console.log(e,t,"pebbles in num : ",this.pebbles[e][t],"hand : ",c)}.bind(this),this.SPEED_TIMER)},click_hole(e,t){("me"==e&&this.can_I_click||"opp"==e&&this.can_opp_click)&&this.pebbles[e][t]>0&&this.move_pebbles(e,t)},make_turn(e){"switch"==e&&("me"==this.turn?this.turn="opp":this.turn="me",e=this.turn),"me"==e?(this.can_hover_me=!0,this.can_hover_opp=!1,this.can_I_click=!0,this.can_opp_click=!1):"opp"==e?(this.can_hover_me=!1,this.can_hover_opp=!0,this.can_I_click=!1,this.can_opp_click=!0):"none"==e&&(this.can_hover_me=!1,this.can_hover_opp=!1,this.can_I_click=!1,this.can_opp_click=!1)}},created(){for(let e=1;e<=8;e++)this.pebbles["opp"][e]=2,this.pebbles["me"][e]=2;this.make_turn(this.turn)},mounted(){this.update_hole_size(),window.addEventListener("resize",this.update_hole_size)},beforeUnmount(){window.removeEventListener("resize",this.update_hole_size)}};c("764e");const $=l()(L,[["render",J],["__scopeId","data-v-3fec693c"]]);var D=$,G={components:{Board:D},data(){return{}},methods:{}};c("0e3e");const H=l()(G,[["render",M],["__scopeId","data-v-1f07689f"]]);var R=H;const A=e=>(Object(o["v"])("data-v-57085449"),e=e(),Object(o["t"])(),e),K={class:"container h-100"},U=A(()=>Object(o["f"])("div",{class:"row"},[Object(o["f"])("div",{class:"col"})],-1)),W={class:"board-container"},q={class:"row h-100"},N={class:"col h-100"};function Q(e,t,c,n,s,i){const r=Object(o["z"])("Board");return Object(o["s"])(),Object(o["e"])("div",K,[U,Object(o["f"])("div",W,[Object(o["f"])("div",q,[Object(o["f"])("div",N,[Object(o["h"])(r)])])])])}var V={components:{Board:D},data(){return{}},methods:{}};c("8d80");const X=l()(V,[["render",Q],["__scopeId","data-v-57085449"]]);var Y=X,Z=[{path:"/game/computer",name:"GameComputer",component:R},{path:"/game/local",name:"GameLocal",component:Y}],ee=Z,te=[];te=te.concat(z,ee);const ce=Object(h["a"])({history:Object(h["b"])("/katro/"),routes:te});var oe=ce;const ne=Object(o["c"])(b);ne.use(oe).mount("#app")},"764e":function(e,t,c){"use strict";c("d854")},"8d80":function(e,t,c){"use strict";c("f055")},d854:function(e,t,c){},f055:function(e,t,c){},f770:function(e,t,c){}});
//# sourceMappingURL=app.f8788045.js.map